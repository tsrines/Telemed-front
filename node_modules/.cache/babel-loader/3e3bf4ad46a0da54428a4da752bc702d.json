{"ast":null,"code":"import React from 'react';\nexport const createDoctors = async incomingDoctors => {\n  ;\n  await incomingDoctors.map(async doctor => {\n    let detailedDoctor;\n\n    try {\n      return axios.get(`http://localhost:3000/geocodes/details/${doctor.place_id}`);\n      detailedDoctor = res.data.result;\n    } catch (err) {} // destructuring for values in schema\n\n\n    const {\n      formatted_address,\n      formatted_phone_number,\n      name,\n      place_id,\n      rating,\n      url,\n      website,\n      user_ratings_total,\n      reviews,\n      photos,\n      geometry: {\n        location: {\n          lat,\n          lng\n        }\n      }\n    } = detailedDoctor; // ES6 key value assignment operator\n\n    const doctorHash = {\n      place_id,\n      name,\n      formatted_address,\n      rating,\n      user_ratings_total,\n      formatted_phone_number,\n      lat,\n      lng,\n      url,\n      website,\n      photos,\n      reviews\n    }; // create post headers\n\n    const myHeaders = new Headers();\n    myHeaders.append('Content-Type', 'Application/json');\n    myHeaders.append('accepts', 'application/json'); // TODO check into stringify\n    // TODO check into redirect: follow\n    // options hash for post request to api\n\n    let data;\n    let photoData; // CREATE DOCTOR\n\n    try {\n      let res = await axios.post('http://localhost:3000/doctors', doctorHash);\n      data = res.data;\n      console.log(data, 'DATA IN CREATE DOCTOR');\n      let reviewData;\n      reviews.forEach(async singleReview => {\n        const {\n          author_name,\n          author_url,\n          profile_photo_url,\n          rating,\n          relative_time_description,\n          text,\n          time\n        } = singleReview;\n        const reviewHash = {\n          author_name,\n          author_url,\n          profile_photo_url,\n          rating,\n          relative_time_description,\n          text,\n          time,\n          place_id,\n          doctor_id: data.id\n        };\n        let res = await axios.post('http://localhost:3000/reviews', reviewHash);\n        reviewData = res.data;\n        console.log('reviewData from reviewPost', reviewData); //\n      });\n      const photoPayload = {\n        incomingPhotos: photos,\n        doctorId: data.id,\n        placeId: place_id\n      };\n\n      try {\n        photoData = await this.createPhotos(photoPayload);\n        console.log(photoData);\n      } catch (err) {\n        console.log(err);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  });\n};\nexport const createReviews = () => {};\nexport const createPhotos = () => {};","map":{"version":3,"sources":["/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/helpers/helpers.js"],"names":["React","createDoctors","incomingDoctors","map","doctor","detailedDoctor","axios","get","place_id","res","data","result","err","formatted_address","formatted_phone_number","name","rating","url","website","user_ratings_total","reviews","photos","geometry","location","lat","lng","doctorHash","myHeaders","Headers","append","photoData","post","console","log","reviewData","forEach","singleReview","author_name","author_url","profile_photo_url","relative_time_description","text","time","reviewHash","doctor_id","id","photoPayload","incomingPhotos","doctorId","placeId","createPhotos","createReviews"],"mappings":"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","sourcesContent":["import React from 'react';\n\nexport const createDoctors = async (incomingDoctors) => {;\n\n\n  await incomingDoctors.map(async (doctor) => {\n    let detailedDoctor;\n\n    try {\n      return axios.get(\n        `http://localhost:3000/geocodes/details/${doctor.place_id}`\n      );\n      detailedDoctor = res.data.result;\n    } catch (err) {}\n\n    // destructuring for values in schema\n    const {\n      formatted_address,\n      formatted_phone_number,\n      name,\n      place_id,\n      rating,\n      url,\n      website,\n      user_ratings_total,\n      reviews,\n      photos,\n      geometry: {\n        location: { lat, lng },\n      },\n    } = detailedDoctor;\n\n    // ES6 key value assignment operator\n\n    const doctorHash = {\n      place_id,\n      name,\n      formatted_address,\n      rating,\n      user_ratings_total,\n      formatted_phone_number,\n      lat,\n      lng,\n      url,\n      website,\n      photos,\n      reviews,\n    };\n\n    // create post headers\n    const myHeaders = new Headers();\n\n    myHeaders.append('Content-Type', 'Application/json');\n    myHeaders.append('accepts', 'application/json');\n\n    // TODO check into stringify\n    // TODO check into redirect: follow\n    // options hash for post request to api\n\n    let data;\n    let photoData;\n\n    // CREATE DOCTOR\n\n    try {\n      let res = await axios.post('http://localhost:3000/doctors', doctorHash);\n      data = res.data;\n\n      console.log(data, 'DATA IN CREATE DOCTOR');\n      let reviewData;\n\n      reviews.forEach(async (singleReview) => {\n        const {\n          author_name,\n          author_url,\n          profile_photo_url,\n          rating,\n          relative_time_description,\n          text,\n          time,\n        } = singleReview;\n        const reviewHash = {\n          author_name,\n          author_url,\n          profile_photo_url,\n          rating,\n          relative_time_description,\n          text,\n          time,\n          place_id,\n          doctor_id: data.id,\n        };\n\n        let res = await axios.post(\n          'http://localhost:3000/reviews',\n          reviewHash\n        );\n\n        reviewData = res.data;\n        console.log('reviewData from reviewPost', reviewData);\n\n        //\n      });\n\n      const photoPayload = {\n        incomingPhotos: photos,\n        doctorId: data.id,\n        placeId: place_id,\n      };\n\n      try {\n        photoData = await this.createPhotos(photoPayload);\n        console.log(photoData);\n      } catch (err) {\n        console.log(err);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  });\n};\n\nexport const createReviews = () => {};\n\nexport const createPhotos = () => {};\n"]},"metadata":{},"sourceType":"module"}