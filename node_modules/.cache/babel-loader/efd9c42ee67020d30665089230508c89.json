{"ast":null,"code":"var _jsxFileName = \"/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/containers/SearchIndex.js\";\nimport { Card, Grid } from 'semantic-ui-react';\nimport DoctorCard from '../components/DoctorCard';\nimport Axios from 'axios';\nimport React, { Component } from 'react';\nexport default class SearchIndex extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.loadSearchIndex = async () => {\n      const index = [];\n      const searchId = parseInt(this.props.match.params.searchId);\n      const searches = this.props.currentUser.searches;\n      let csv = searches[searchId].csv;\n      debugger;\n      csv = csv.split(',');\n      csv.pop();\n      await csv.map(async id => {\n        // console.log(id);\n        let doctorId = parseInt(id);\n        let res = await Axios.get(`http://localhost:3000/doctors/${doctorId}`);\n        let doc = res.data; // console.log(doc);\n\n        index.push(doc);\n        this.props.setSearchIndex(index);\n      });\n    };\n\n    this.displayDoctors = () => {\n      return this.props.searchIndex.map(doc => React.createElement(\"div\", {\n        key: doc.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, doc.name));\n    };\n  }\n\n  async componentDidMount() {\n    await this.props.loadUser();\n    this.loadSearchIndex();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"   \", React.createElement(Grid, {\n      container: true,\n      textAlign: \"center\",\n      style: {\n        height: '100vh'\n      },\n      verticalAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(Card.Group, {\n      style: {\n        maxHeight: '35em'\n      },\n      display: \"flex\",\n      \"justify-content\": \"center\",\n      itemsPerRow: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, this.props.loading ? this.displayLoading() : this.displayDoctors())), this.displayDoctors());\n  }\n\n}","map":{"version":3,"sources":["/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/containers/SearchIndex.js"],"names":["Card","Grid","DoctorCard","Axios","React","Component","SearchIndex","loadSearchIndex","index","searchId","parseInt","props","match","params","searches","currentUser","csv","split","pop","map","id","doctorId","res","get","doc","data","push","setSearchIndex","displayDoctors","searchIndex","name","componentDidMount","loadUser","render","height","maxHeight","loading","displayLoading"],"mappings":";AAAA,SAASA,IAAT,EAAeC,IAAf,QAA2B,mBAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,MAAMC,WAAN,SAA0BD,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SACjDE,eADiD,GAC/B,YAAY;AAC5B,YAAMC,KAAK,GAAG,EAAd;AACA,YAAMC,QAAQ,GAAGC,QAAQ,CAAC,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBJ,QAAzB,CAAzB;AACA,YAAMK,QAAQ,GAAG,KAAKH,KAAL,CAAWI,WAAX,CAAuBD,QAAxC;AACA,UAAIE,GAAG,GAAGF,QAAQ,CAACL,QAAD,CAAR,CAAmBO,GAA7B;AACA;AACAA,MAAAA,GAAG,GAAGA,GAAG,CAACC,KAAJ,CAAU,GAAV,CAAN;AACAD,MAAAA,GAAG,CAACE,GAAJ;AAEA,YAAMF,GAAG,CAACG,GAAJ,CAAQ,MAAOC,EAAP,IAAc;AAC1B;AACA,YAAIC,QAAQ,GAAGX,QAAQ,CAACU,EAAD,CAAvB;AACA,YAAIE,GAAG,GAAG,MAAMnB,KAAK,CAACoB,GAAN,CAAW,iCAAgCF,QAAS,EAApD,CAAhB;AACA,YAAIG,GAAG,GAAGF,GAAG,CAACG,IAAd,CAJ0B,CAM1B;;AACAjB,QAAAA,KAAK,CAACkB,IAAN,CAAWF,GAAX;AACA,aAAKb,KAAL,CAAWgB,cAAX,CAA0BnB,KAA1B;AAGD,OAXK,CAAN;AAcD,KAxBgD;;AAAA,SA0BjDoB,cA1BiD,GA0BhC,MAAM;AAErB,aAAO,KAAKjB,KAAL,CAAWkB,WAAX,CAAuBV,GAAvB,CAA4BK,GAAD,IAChC;AAAK,QAAA,GAAG,EAAEA,GAAG,CAACJ,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmBI,GAAG,CAACM,IAAvB,CADK,CAAP;AAGD,KA/BgD;AAAA;;AAiCjD,QAAMC,iBAAN,GAA0B;AACxB,UAAM,KAAKpB,KAAL,CAAWqB,QAAX,EAAN;AACA,SAAKzB,eAAL;AAED;;AACD0B,EAAAA,MAAM,GAAG;AAET,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAQ,oBAAC,IAAD;AACf,MAAA,SAAS,MADM;AAEb,MAAA,SAAS,EAAC,QAFG;AAGb,MAAA,KAAK,EAAE;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAHM;AAIb,MAAA,aAAa,EAAC,QAJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANa,EAOb,oBAAC,IAAD,CAAM,KAAN;AACE,MAAA,KAAK,EAAE;AAAGC,QAAAA,SAAS,EAAE;AAAd,OADT;AAEE,MAAA,OAAO,EAAC,MAFV;AAGE,yBAAgB,QAHlB;AAIE,MAAA,WAAW,EAAE,CAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAMG,KAAKxB,KAAL,CAAWyB,OAAX,GAAqB,KAAKC,cAAL,EAArB,GAA6C,KAAKT,cAAL,EANhD,CAPa,CAAR,EAeC,KAAKA,cAAL,EAfD,CAAP;AAiBC;;AAzDgD","sourcesContent":["import { Card, Grid } from 'semantic-ui-react';\nimport DoctorCard from '../components/DoctorCard';\nimport Axios from 'axios';\n\nimport React, { Component } from 'react';\n\nexport default class SearchIndex extends Component {\n  loadSearchIndex = async () => {\n    const index = [];\n    const searchId = parseInt(this.props.match.params.searchId)\n    const searches = this.props.currentUser.searches\n    let csv = searches[searchId].csv\n    debugger\n    csv = csv.split(',');\n    csv.pop();\n\n    await csv.map(async (id) => {\n      // console.log(id);\n      let doctorId = parseInt(id);\n      let res = await Axios.get(`http://localhost:3000/doctors/${doctorId}`);\n      let doc = res.data;\n\n      // console.log(doc);\n      index.push(doc);\n      this.props.setSearchIndex(index)\n\n\n    }); \n    \n\n  };\n\n  displayDoctors = () => {\n\n    return this.props.searchIndex.map((doc) => (\n      <div key={doc.id}>{doc.name}</div>\n    ));\n  };\n\n  async componentDidMount() {\n    await this.props.loadUser()\n    this.loadSearchIndex()\n\n  }\n  render() {\n\n  return <div>   <Grid\n  container\n    textAlign='center'\n    style={{ height: '100vh' }}\n    verticalAlign='middle'\n  >\n    <br></br>\n    <Card.Group\n      style={{  maxHeight: '35em' }}\n      display='flex'\n      justify-content='center'\n      itemsPerRow={3}\n    >\n      {this.props.loading ? this.displayLoading() : this.displayDoctors()}\n    </Card.Group>\n  </Grid>{this.displayDoctors()}</div>\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}