{"ast":null,"code":"var _jsxFileName = \"/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/containers/SearchIndex.js\";\nimport { Card, Grid } from 'semantic-ui-react';\nimport DoctorCard from '../components/DoctorCard';\nimport Axios from 'axios';\nimport React, { Component } from 'react';\nexport default class SearchIndex extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.loadSearchIndex = async () => {\n      const index = [];\n      let csv = '';\n\n      try {\n        let res = await Axios.get(`http://localhost:3000/searches/${searchId}`);\n        csv = res.data.csv;\n      } catch (err) {}\n\n      csv = csv.split(',');\n      csv.pop();\n      console.log(csv, 'CSV FROM LOADSEARCHINDEX');\n      await csv.forEach(async id => {\n        console.log(id);\n        let doctorId = parseInt(id);\n        let res = await Axios.get(`http://localhost:3000/doctors/${doctorId}`);\n        let doc = res.data;\n        console.log(doc);\n        index.push(doc);\n      });\n      console.log(index);\n      await this.props.setSearchIndex(index);\n    };\n\n    this.displayDoctors = () => {\n      return this.props.searchIndex.map(doc => React.createElement(\"div\", {\n        key: doc.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, doc.name));\n    };\n  }\n\n  componentDidMount() {\n    this.loadSearchIndex();\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.displayDoctors());\n  }\n\n}","map":{"version":3,"sources":["/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/containers/SearchIndex.js"],"names":["Card","Grid","DoctorCard","Axios","React","Component","SearchIndex","loadSearchIndex","index","csv","res","get","searchId","data","err","split","pop","console","log","forEach","id","doctorId","parseInt","doc","push","props","setSearchIndex","displayDoctors","searchIndex","map","name","componentDidMount","render"],"mappings":";AAAA,SAASA,IAAT,EAAeC,IAAf,QAA2B,mBAA3B;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,MAAMC,WAAN,SAA0BD,SAA1B,CAAoC;AAAA;AAAA;;AAAA,SACjDE,eADiD,GAC/B,YAAY;AAE5B,YAAMC,KAAK,GAAG,EAAd;AACA,UAAIC,GAAG,GAAG,EAAV;;AACA,UAAI;AACF,YAAIC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAW,kCAAiCC,QAAS,EAArD,CAAhB;AACAH,QAAAA,GAAG,GAAGC,GAAG,CAACG,IAAJ,CAASJ,GAAf;AACD,OAHD,CAGE,OAAOK,GAAP,EAAY,CAAE;;AAChBL,MAAAA,GAAG,GAAGA,GAAG,CAACM,KAAJ,CAAU,GAAV,CAAN;AACAN,MAAAA,GAAG,CAACO,GAAJ;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ,EAAiB,0BAAjB;AACA,YAAMA,GAAG,CAACU,OAAJ,CAAY,MAAOC,EAAP,IAAc;AAC9BH,QAAAA,OAAO,CAACC,GAAR,CAAYE,EAAZ;AACA,YAAIC,QAAQ,GAAGC,QAAQ,CAACF,EAAD,CAAvB;AACA,YAAIV,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAN,CAAW,iCAAgCU,QAAS,EAApD,CAAhB;AACA,YAAIE,GAAG,GAAGb,GAAG,CAACG,IAAd;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACAf,QAAAA,KAAK,CAACgB,IAAN,CAAWD,GAAX;AACD,OAPK,CAAN;AAQAN,MAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,YAAM,KAAKiB,KAAL,CAAWC,cAAX,CAA0BlB,KAA1B,CAAN;AACD,KAtBgD;;AAAA,SAwBjDmB,cAxBiD,GAwBhC,MAAM;AAErB,aAAO,KAAKF,KAAL,CAAWG,WAAX,CAAuBC,GAAvB,CAA4BN,GAAD,IAAS;AAAK,QAAA,GAAG,EAAEA,GAAG,CAACH,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmBG,GAAG,CAACO,IAAvB,CAApC,CAAP;AACD,KA3BgD;AAAA;;AA6BjDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKxB,eAAL;AAED;;AACDyB,EAAAA,MAAM,GAAG;AACPf,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKO,KAAjB;AACF,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM,KAAKE,cAAL,EAAN,CAAP;AACC;;AApCgD","sourcesContent":["import { Card, Grid } from 'semantic-ui-react';\nimport DoctorCard from '../components/DoctorCard';\nimport Axios from 'axios';\n\nimport React, { Component } from 'react';\n\nexport default class SearchIndex extends Component {\n  loadSearchIndex = async () => {\n    \n    const index = [];\n    let csv = '';\n    try {\n      let res = await Axios.get(`http://localhost:3000/searches/${searchId}`);\n      csv = res.data.csv;\n    } catch (err) {}\n    csv = csv.split(',');\n    csv.pop();\n    console.log(csv, 'CSV FROM LOADSEARCHINDEX');\n    await csv.forEach(async (id) => {\n      console.log(id);\n      let doctorId = parseInt(id);\n      let res = await Axios.get(`http://localhost:3000/doctors/${doctorId}`);\n      let doc = res.data;\n      console.log(doc);\n      index.push(doc);\n    });\n    console.log(index);\n    await this.props.setSearchIndex(index);\n  };\n\n  displayDoctors = () => {\n\n    return this.props.searchIndex.map((doc) => <div key={doc.id}>{doc.name}</div>);\n  };\n\n  componentDidMount() {\n    this.loadSearchIndex();\n\n  }\n  render() {\n    console.log(this.props)\n  return <div>{this.displayDoctors()}</div>;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}