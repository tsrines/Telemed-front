{"ast":null,"code":"var _jsxFileName = \"/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/components/Search.js\";\nimport React from 'react';\nimport { Form, Header, Image, Button, Grid, Segment, Label, Input } from 'semantic-ui-react';\nimport axios from 'axios';\n\nclass Search extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      address: '',\n      query: '',\n      distance: '',\n      browserLocation: false,\n      lat: null,\n      lng: null\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = async e => {\n      console.log('this.props from search', this.props);\n      e.preventDefault();\n      this.props.loadingHandler(true);\n      const payload = this.state;\n      const {\n        lat,\n        lng,\n        distance,\n        query,\n        address\n      } = this.state;\n\n      if (lat === null && lng === null) {\n        try {\n          let res = await axios.get(`http://localhost:3000/geocodes/coords?address=${address}`);\n          payload.lat = res.data.lat;\n          payload.lng = res.data.lng;\n          payload.query = query;\n          await this.props.googleSearch(payload);\n        } catch (err) {\n          console.log(err);\n        }\n      } else {\n        payload.query = query;\n        await this.props.googleSearch(payload);\n      } // this.props.loadingHandler(false);\n\n    };\n\n    this.useCurrentPosition = async e => {\n      const geo = navigator.geolocation;\n      this.setState({ ...this.state,\n        browserLocation: !this.state.browserLocation\n      });\n\n      if (!geo) {\n        console.log('Geo not supported');\n      } else {\n        geo.getCurrentPosition(position => {\n          this.setState({\n            lat: position.coords.latitude.toString(),\n            lng: position.coords.longitude.toString()\n          });\n        });\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      textAlign: \"center\",\n      style: {\n        height: '100vh'\n      },\n      verticalAlign: \"middle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      style: {\n        maxWidth: 900\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(Header, {\n      as: \"h2\",\n      color: \"red\",\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Image, {\n      src: \"../favicon.ico\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), \"Telemed\"), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(React.Fragment, null, React.createElement(Label, {\n      pointing: \"below\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Click me to use geolocation\"), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(Form.Checkbox, {\n      onClick: this.useCurrentPosition,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), !this.state.browserLocation && React.createElement(Input, {\n      fluid: true,\n      name: \"address\",\n      onChange: e => this.onChange(e),\n      type: \"text\",\n      placeholder: \"Address\",\n      value: this.state.address,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"What kind of doctor do you need to see?\"), React.createElement(Input, {\n      fluid: true,\n      required: true,\n      name: \"query\",\n      onChange: e => this.onChange(e),\n      type: \"text\",\n      placeholder: \"...foot, heart, etc\",\n      value: this.state.query,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"How far are you willing to travel?\"), React.createElement(Input, {\n      fluid: true // label={'Travel Distance'}\n      ,\n      required: true,\n      name: \"distance\",\n      onChange: e => this.onChange(e),\n      type: \"number\",\n      placeholder: \"...in miles\",\n      value: this.state.distance,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    })), React.createElement(Button, {\n      loading: this.props.loading,\n      color: \"red\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Get Doctors\"))))));\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/components/Search.js"],"names":["React","Form","Header","Image","Button","Grid","Segment","Label","Input","axios","Search","Component","state","address","query","distance","browserLocation","lat","lng","onChange","e","setState","target","name","value","onSubmit","console","log","props","preventDefault","loadingHandler","payload","res","get","data","googleSearch","err","useCurrentPosition","geo","navigator","geolocation","getCurrentPosition","position","coords","latitude","toString","longitude","render","height","maxWidth","loading"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  Form,\n  Header,\n  Image,\n  Button,\n  Grid,\n  Segment,\n  Label,\n  Input,\n} from 'semantic-ui-react';\nimport axios from 'axios';\n\nclass Search extends React.Component {\n  state = {\n    address: '',\n    query: '',\n    distance: '',\n    browserLocation: false,\n    lat: null,\n    lng: null,\n  };\n\n  onChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  onSubmit = async (e) => {\n    console.log('this.props from search', this.props);\n    e.preventDefault();\n    this.props.loadingHandler(true);\n    const payload = this.state;\n    const { lat, lng, distance, query, address } = this.state;\n    if (lat === null && lng === null) {\n      try {\n        let res = await axios.get(\n          `http://localhost:3000/geocodes/coords?address=${address}`\n        );\n        payload.lat = res.data.lat;\n        payload.lng = res.data.lng;\n        payload.query = query;\n        await this.props.googleSearch(payload);\n      } catch (err) {\n        console.log(err);\n      }\n    } else {\n      payload.query = query;\n      await this.props.googleSearch(payload);\n    }\n    // this.props.loadingHandler(false);\n  };\n\n  useCurrentPosition = async (e) => {\n    const geo = navigator.geolocation;\n    this.setState({\n      ...this.state,\n      browserLocation: !this.state.browserLocation,\n    });\n\n    if (!geo) {\n      console.log('Geo not supported');\n    } else {\n      geo.getCurrentPosition((position) => {\n        this.setState({\n          lat: position.coords.latitude.toString(),\n          lng: position.coords.longitude.toString(),\n        });\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Grid\n          textAlign='center'\n          style={{ height: '100vh' }}\n          verticalAlign='middle'\n        >\n          <Grid.Column style={{ maxWidth: 900 }}>\n            <Header as='h2' color='red' textAlign='center'>\n              <Image src='../favicon.ico' />\n              Telemed\n            </Header>\n            {/* {this.props.loading && <Segment>Loading...</Segment>} */}\n\n            <Form onSubmit={this.onSubmit}>\n              <>\n                <Label pointing='below'>Click me to use geolocation</Label>\n\n                <Form.Field>\n                  {/* <Label>Current Location?</Label> */}\n                  <Form.Checkbox\n                    onClick={this.useCurrentPosition}\n                  ></Form.Checkbox>\n                  {!this.state.browserLocation && (\n                    <Input\n                      fluid\n                      name='address'\n                      onChange={(e) => this.onChange(e)}\n                      type='text'\n                      placeholder='Address'\n                      value={this.state.address}\n                    />\n                  )}\n                </Form.Field>\n                <Form.Field>\n                  <Label>What kind of doctor do you need to see?</Label>\n                  <Input\n                    fluid\n                    required\n                    name='query'\n                    onChange={(e) => this.onChange(e)}\n                    type='text'\n                    placeholder='...foot, heart, etc'\n                    value={this.state.query}\n                  />\n                </Form.Field>\n                <Form.Field>\n                  <Label>How far are you willing to travel?</Label>\n                  <Input\n                    fluid\n                    // label={'Travel Distance'}\n                    required\n                    name='distance'\n                    onChange={(e) => this.onChange(e)}\n                    type='number'\n                    placeholder='...in miles'\n                    value={this.state.distance}\n                  />\n                </Form.Field>\n                <Button loading={this.props.loading} color='red' type='submit'>\n                  Get Doctors\n                </Button>\n              </>\n            </Form>\n          </Grid.Column>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}