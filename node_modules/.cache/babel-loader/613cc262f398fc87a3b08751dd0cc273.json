{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nexport const fetchApiDoctors = async payload => {\n  try {\n    let res = await axios.post(`http://localhost:3000/doctors`, payload);\n    return res.data;\n  } catch (err) {\n    console.log('This is your error:', err);\n    throw err;\n  }\n}; // export const createDoctors = async (incomingDoctors, query) => {\n//   const dockers = [];\n//   await incomingDoctors.forEach(async (doctor) => {\n//     let finalDoc;\n//     let createdReviews;\n//     let createdPhotos;\n//     try {\n//       finalDoc = await createDoctor(doctor, query);\n//     } catch (err) {\n//       console.log(err);\n//       throw err;\n//     }\n//     // try {\n//     //   createdReviews = await createReviews(finalDoc);\n//     //   finalDoc.reviews = createdReviews;\n//     // } catch (error) {}\n//     // try {\n//     //   createdPhotos = await createPhotos(finalDoc);\n//     //   finalDoc.photos = createdPhotos;\n//     // } catch (error) {}\n//     dockers.push(finalDoc);\n//   });\n//   return dockers;\n// };\n// const createDoctor = async (singleDoctor) => {\n//   let detailedDoctor;\n//   let doctorFromBackend;\n//   try {\n//     let res = await axios.get(\n//       `http://localhost:3000/geocodes/details/${singleDoctor.place_id}`\n//     );\n//     detailedDoctor = res.data.result;\n//   } catch (err) {\n//     console.log(err, 'FROM CREATEDOCTORS HELPER');\n//     throw err;\n//   }\n//   const {\n//     formatted_address,\n//     formatted_phone_number,\n//     name,\n//     place_id,\n//     rating,\n//     url,\n//     website,\n//     user_ratings_total,\n//     reviews,\n//     photos,\n//     geometry: {\n//       location: { lat, lng },\n//     },\n//   } = detailedDoctor;\n//   // ES6 key value assignment operator\n//   const doctorHash = {\n//     place_id,\n//     name,\n//     formatted_address,\n//     rating,\n//     user_ratings_total,\n//     formatted_phone_number,\n//     lat,\n//     lng,\n//     url,\n//     website,\n//     photos,\n//     reviews,\n//   };\n//   try {\n//     let res = await axios.post('http://localhost:3000/doctors', doctorHash);\n//     doctorFromBackend = res.data;\n//   } catch (error) {\n//     console.log('fixed?');\n//   }\n//   return doctorFromBackend;\n// };\n\nexport const createReviews = async (place_id, doctor_id) => {\n  const reviewPayload = {\n    place_id,\n    doctor_id\n  };\n\n  try {\n    let res = await axios.post('http://localhost:3000/reviews', reviewPayload);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\nexport const createPhotos = async (doctor_reference, doctor_id) => {\n  const photoHash = {\n    doctor_id,\n    doctor_reference\n  };\n\n  try {\n    let res = await axios.post(`http://localhost:3000/photos`, photoHash);\n    return res.data;\n  } catch (err) {\n    console.log(err);\n    throw err;\n  }\n};","map":{"version":3,"sources":["/Users/rines/Development/code/mod5/Telemed/Telemed-front/src/helpers/helpers.js"],"names":["React","axios","fetchApiDoctors","payload","res","post","data","err","console","log","createReviews","place_id","doctor_id","reviewPayload","error","createPhotos","doctor_reference","photoHash"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAOC,OAAP,IAAmB;AAChD,MAAI;AACF,QAAIC,GAAG,GAAG,MAAMH,KAAK,CAACI,IAAN,CAAY,+BAAZ,EAA4CF,OAA5C,CAAhB;AACA,WAAOC,GAAG,CAACE,IAAX;AACD,GAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCF,GAAnC;AACA,UAAMA,GAAN;AACD;AACF,CARM,C,CAUP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMG,aAAa,GAAG,OAAOC,QAAP,EAAiBC,SAAjB,KAA+B;AAC1D,QAAMC,aAAa,GAAG;AACpBF,IAAAA,QADoB;AAEpBC,IAAAA;AAFoB,GAAtB;;AAKA,MAAI;AACF,QAAIR,GAAG,GAAG,MAAMH,KAAK,CAACI,IAAN,CAAW,+BAAX,EAA4CQ,aAA5C,CAAhB;AACA,WAAOT,GAAG,CAACE,IAAX;AACD,GAHD,CAGE,OAAOQ,KAAP,EAAc;AACdN,IAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACA,UAAMA,KAAN;AACD;AACF,CAbM;AAeP,OAAO,MAAMC,YAAY,GAAG,OAAOC,gBAAP,EAAyBJ,SAAzB,KAAuC;AACjE,QAAMK,SAAS,GAAG;AAChBL,IAAAA,SADgB;AAEhBI,IAAAA;AAFgB,GAAlB;;AAKA,MAAI;AACF,QAAIZ,GAAG,GAAG,MAAMH,KAAK,CAACI,IAAN,CAAY,8BAAZ,EAA2CY,SAA3C,CAAhB;AACA,WAAOb,GAAG,CAACE,IAAX;AACD,GAHD,CAGE,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,UAAMA,GAAN;AACD;AACF,CAbM","sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\nexport const fetchApiDoctors = async (payload) => {\n  try {\n    let res = await axios.post(`http://localhost:3000/doctors`, payload);\n    return res.data;\n  } catch (err) {\n    console.log('This is your error:', err);\n    throw err;\n  }\n};\n\n// export const createDoctors = async (incomingDoctors, query) => {\n//   const dockers = [];\n//   await incomingDoctors.forEach(async (doctor) => {\n//     let finalDoc;\n//     let createdReviews;\n//     let createdPhotos;\n//     try {\n//       finalDoc = await createDoctor(doctor, query);\n//     } catch (err) {\n//       console.log(err);\n//       throw err;\n//     }\n//     // try {\n//     //   createdReviews = await createReviews(finalDoc);\n//     //   finalDoc.reviews = createdReviews;\n//     // } catch (error) {}\n//     // try {\n//     //   createdPhotos = await createPhotos(finalDoc);\n//     //   finalDoc.photos = createdPhotos;\n//     // } catch (error) {}\n\n//     dockers.push(finalDoc);\n//   });\n\n//   return dockers;\n// };\n\n// const createDoctor = async (singleDoctor) => {\n//   let detailedDoctor;\n//   let doctorFromBackend;\n//   try {\n//     let res = await axios.get(\n//       `http://localhost:3000/geocodes/details/${singleDoctor.place_id}`\n//     );\n//     detailedDoctor = res.data.result;\n//   } catch (err) {\n//     console.log(err, 'FROM CREATEDOCTORS HELPER');\n//     throw err;\n//   }\n\n//   const {\n//     formatted_address,\n//     formatted_phone_number,\n//     name,\n//     place_id,\n//     rating,\n//     url,\n//     website,\n//     user_ratings_total,\n//     reviews,\n//     photos,\n//     geometry: {\n//       location: { lat, lng },\n//     },\n//   } = detailedDoctor;\n\n//   // ES6 key value assignment operator\n\n//   const doctorHash = {\n//     place_id,\n//     name,\n//     formatted_address,\n//     rating,\n//     user_ratings_total,\n//     formatted_phone_number,\n//     lat,\n//     lng,\n//     url,\n//     website,\n//     photos,\n//     reviews,\n//   };\n\n//   try {\n//     let res = await axios.post('http://localhost:3000/doctors', doctorHash);\n//     doctorFromBackend = res.data;\n//   } catch (error) {\n//     console.log('fixed?');\n//   }\n//   return doctorFromBackend;\n// };\n\nexport const createReviews = async (place_id, doctor_id) => {\n  const reviewPayload = {\n    place_id,\n    doctor_id,\n  };\n\n  try {\n    let res = await axios.post('http://localhost:3000/reviews', reviewPayload);\n    return res.data;\n  } catch (error) {\n    console.log(error);\n    throw error;\n  }\n};\n\nexport const createPhotos = async (doctor_reference, doctor_id) => {\n  const photoHash = {\n    doctor_id,\n    doctor_reference,\n  };\n\n  try {\n    let res = await axios.post(`http://localhost:3000/photos`, photoHash);\n    return res.data;\n  } catch (err) {\n    console.log(err);\n    throw err;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}